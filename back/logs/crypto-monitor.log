2025-10-28 12:08:03 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 14764 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 12:08:03 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 12:08:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 12:08:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 308 ms. Found 8 JPA repository interfaces.
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:08:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-10-28 12:08:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 12:08:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 12:08:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 12:08:11 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 12:08:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7533 ms
2025-10-28 12:08:11 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 12:08:12 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 12:08:12 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 12:08:12 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 12:08:12 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 12:08:13 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 12:08:13 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 12:08:13 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 12:08:13 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 12:08:13 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 12:08:13 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.618s)
2025-10-28 12:08:13 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 12:08:14 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 12:08:14 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 12:08:14 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 55 of 72M
2025-10-28 12:08:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 12:08:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 12:08:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 12:08:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 12:08:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 12:08:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@6a8da5c5
2025-10-28 12:08:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 12:08:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 12:08:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 12:08:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 12:08:20 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 12:08:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 12:08:22 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 12:08:22 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 12:08:22 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 12:08:23 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 12:08:23 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 12:08:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 12:08:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 12:08:24 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 12:08:25 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 12:08:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 12:08:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 12:08:26 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 12:08:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 12:08:27 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 27.75 seconds (process running for 35.813)
2025-10-28 12:08:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:08:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6013565b
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@44eee485
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 12:08:28 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 12:08:29 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 12:09:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:09:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:10:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:10:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:11:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:11:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:12:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:12:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:13:12 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/crypto/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 12:13:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 12:13:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 12:13:13 [http-nio-8080-exec-1] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6c007570] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 12:13:13 [http-nio-8080-exec-2] WARN  c.c.s.CustomUserDetailsService - ⚠️  Tentativa de login com conta não verificada: teste
2025-10-28 12:13:13 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/crypto-monitor] threw exception
org.springframework.security.authentication.DisabledException: Conta não verificada. Verifique seu email.
	at com.crypto.security.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:29)
	at com.crypto.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 12:13:14 [http-nio-8080-exec-3] WARN  c.c.s.CustomUserDetailsService - ⚠️  Tentativa de login com conta não verificada: teste
2025-10-28 12:13:14 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/crypto-monitor] threw exception
org.springframework.security.authentication.DisabledException: Conta não verificada. Verifique seu email.
	at com.crypto.security.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:29)
	at com.crypto.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 12:13:16 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6c007570] [f1d16f9c-1] Response 200 OK
2025-10-28 12:13:17 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [6c007570] [f1d16f9c-1] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115288, priceChange1 (truncated)...]
2025-10-28 12:13:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 12:13:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115288, priceChange1 (truncated)...]
2025-10-28 12:13:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 12:13:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:13:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=testando1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, en (truncated)...]
2025-10-28 12:13:30 [http-nio-8080-exec-4] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: testando1
2025-10-28 12:13:30 [http-nio-8080-exec-4] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: testando1
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Usuário criado! Verifique seu email., email=melodavid84@icloud.com, success=true, requiresV (truncated)...]
2025-10-28 12:13:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 12:14:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:14:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:15:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:15:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:16:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:16:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:17:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:17:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:18:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:18:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:19:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:19:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:19:48 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 12:19:48 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 12:19:48 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 12:19:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 12:20:05 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 17564 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 12:20:05 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 241 ms. Found 8 JPA repository interfaces.
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 12:20:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-28 12:20:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 12:20:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 12:20:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 12:20:10 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 12:20:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4996 ms
2025-10-28 12:20:10 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 12:20:11 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 12:20:11 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 12:20:11 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 12:20:11 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 12:20:11 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 12:20:11 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 12:20:11 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 12:20:11 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 12:20:11 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.092s)
2025-10-28 12:20:11 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 12:20:11 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 12:20:11 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 12:20:11 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 38 of 94M
2025-10-28 12:20:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 12:20:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 12:20:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 12:20:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 12:20:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 12:20:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@15549dd7
2025-10-28 12:20:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 12:20:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 12:20:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 12:20:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 12:20:15 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 12:20:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 12:20:16 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 12:20:16 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 12:20:16 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 12:20:16 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 12:20:16 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 12:20:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 12:20:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 12:20:17 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 12:20:18 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 12:20:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 12:20:18 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 12:20:19 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 12:20:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 12:20:20 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 16.362 seconds (process running for 18.478)
2025-10-28 12:20:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:20:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:21:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:21:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:22:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:22:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:22:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 12:22:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@250cb65a
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@698af960
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 12:22:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-10-28 12:22:22 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 12:22:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 12:22:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=testando1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, en (truncated)...]
2025-10-28 12:22:23 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: testando1
2025-10-28 12:22:23 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: testando1
2025-10-28 12:22:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 12:22:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, message=Usuário criado! Verifique seu email., email=melodavid84@icloud.c (truncated)...]
2025-10-28 12:22:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 12:23:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 12:23:20 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 12:23:31 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 12:23:31 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 12:23:31 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 12:23:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:15:37 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 17336 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:15:37 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 486 ms. Found 8 JPA repository interfaces.
2025-10-28 13:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:15:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-28 13:15:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:15:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:15:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:15:45 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:15:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7587 ms
2025-10-28 13:15:45 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:15:46 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:15:46 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:15:46 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:15:46 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:15:46 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:15:46 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:15:46 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:15:46 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:15:46 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.131s)
2025-10-28 13:15:46 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:15:46 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:15:46 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:15:46 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 34 of 94M
2025-10-28 13:15:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:15:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:15:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:15:49 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:15:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:15:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@430f0c63
2025-10-28 13:15:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:15:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:15:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:15:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:15:52 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:15:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:15:55 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:15:55 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:15:55 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:15:56 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:15:56 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:15:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:15:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:15:56 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:15:57 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:15:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:15:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:15:58 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:15:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:15:59 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 23.434 seconds (process running for 40.156)
2025-10-28 13:15:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:15:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:16:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:16:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:17:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:17:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:18:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:18:59 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:19:59 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:19:59 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:19:59 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:19:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:20:02 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 10192 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:20:02 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 194 ms. Found 8 JPA repository interfaces.
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:20:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-28 13:20:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:20:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:20:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:20:05 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:20:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2939 ms
2025-10-28 13:20:06 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:20:06 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:20:06 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:20:06 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:20:06 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:20:06 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:20:06 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:20:06 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:20:06 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:20:06 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.034s)
2025-10-28 13:20:06 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:20:06 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:20:06 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:20:06 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 47 of 88M
2025-10-28 13:20:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:20:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:20:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:20:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:20:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:20:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@54b96813
2025-10-28 13:20:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:20:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:20:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:20:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:20:10 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:20:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:20:11 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:20:11 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:20:11 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:20:11 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:20:11 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:20:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:20:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:20:12 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:20:12 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:20:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:20:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:20:13 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:20:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:20:14 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 12.356 seconds (process running for 13.328)
2025-10-28 13:20:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:20:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@435e122
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@26c8b723
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:20:15 [RMI TCP Connection(3)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 13:20:15 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:21:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:21:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:22:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:22:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:23:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:23:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:23:22 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:23:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:23:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:23:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:23:22 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:23:23 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 13:23:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:23:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, email=melodavid84@icloud.com, message=Usuário criado! Verifique seu email., requiresV (truncated)...]
2025-10-28 13:23:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 13:24:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:24:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:25:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:25:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:26:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:26:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:27:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:27:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:28:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:28:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:29:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:29:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:30:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:30:14 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:30:50 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:30:51 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:30:51 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:30:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:31:39 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 15088 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:31:39 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 178 ms. Found 8 JPA repository interfaces.
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:31:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-28 13:31:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:31:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:31:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:31:42 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:31:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2815 ms
2025-10-28 13:31:43 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:31:43 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:31:43 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:31:43 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:31:43 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:31:43 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:31:43 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:31:43 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:31:43 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:31:43 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.032s)
2025-10-28 13:31:43 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:31:43 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:31:43 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:31:43 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 46 of 88M
2025-10-28 13:31:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:31:44 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:31:44 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:31:44 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:31:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:31:44 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@37196d53
2025-10-28 13:31:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:31:44 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:31:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:31:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:31:46 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:31:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:31:47 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:31:47 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:31:47 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:31:47 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:31:47 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:31:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:31:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:31:48 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:31:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:31:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:31:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:31:49 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:31:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:31:50 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 11.046 seconds (process running for 11.945)
2025-10-28 13:31:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:31:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2faec75a
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7568f5bc
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:31:50 [RMI TCP Connection(2)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-10-28 13:31:51 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:32:30 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:32:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:32:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:32:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:32:30 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:32:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:32:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:32:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: null
2025-10-28 13:32:36 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:32:36 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 13:32:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:32:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Usuário criado! Verifique seu email., requiresVerification=true, success=true, email=meloda (truncated)...]
2025-10-28 13:32:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 13:32:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:32:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:33:39 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:33:39 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:33:39 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:33:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:33:46 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 10712 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:33:46 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 234 ms. Found 8 JPA repository interfaces.
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:33:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-28 13:33:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:33:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:33:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:33:50 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:33:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3592 ms
2025-10-28 13:33:50 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:33:51 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:33:51 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:33:51 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:33:51 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:33:51 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:33:51 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:33:51 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:33:51 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:33:51 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.034s)
2025-10-28 13:33:51 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:33:51 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:33:51 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:33:51 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 41 of 94M
2025-10-28 13:33:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:33:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:33:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:33:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:33:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:33:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@2cc9a948
2025-10-28 13:33:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:33:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:33:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:33:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:33:55 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:33:55 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:33:56 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:33:56 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:33:56 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:33:56 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:33:56 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:33:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:33:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:33:57 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:33:57 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:33:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:33:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:33:59 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:33:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:34:00 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 14.528 seconds (process running for 15.388)
2025-10-28 13:34:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:34:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@767f4a69
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1f6460f5
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:34:00 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-10-28 13:34:01 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:34:29 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:34:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:34:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:34:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:34:29 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:34:29 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:34:29 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:34:29 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: java.lang.Object@1d42e0cf
2025-10-28 13:34:34 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:34:34 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 13:34:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:34:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{email=melodavid84@icloud.com, message=Usuário criado! Verifique seu email., requiresVerification=tr (truncated)...]
2025-10-28 13:34:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 13:35:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:35:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:36:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:36:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:37:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:37:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:38:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:38:00 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:38:35 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:38:35 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:38:35 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:38:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:44:52 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 1708 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:44:52 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 183 ms. Found 8 JPA repository interfaces.
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:44:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-10-28 13:44:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:44:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:44:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:44:55 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:44:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3015 ms
2025-10-28 13:44:56 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:44:56 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:44:56 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:44:56 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:44:56 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:44:56 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:44:56 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:44:56 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:44:56 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:44:56 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.037s)
2025-10-28 13:44:56 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:44:56 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:44:56 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:44:56 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 87 of 124M
2025-10-28 13:44:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:44:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:44:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:44:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:44:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:44:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@2cc9a948
2025-10-28 13:44:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:44:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:44:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:44:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:44:59 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:45:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:45:01 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:45:01 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:45:01 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:45:01 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:45:01 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:45:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:45:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:45:02 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:45:02 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:45:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:45:03 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:45:03 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:45:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:45:04 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 12.334 seconds (process running for 13.222)
2025-10-28 13:45:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:45:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4f880f4a
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@60d46bd7
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:45:05 [RMI TCP Connection(8)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 13:45:05 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:45:38 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:45:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:45:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:45:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:45:38 [http-nio-8080-exec-3] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - 📝 CRIANDO TOKEN DE VERIFICAÇÃO
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService -    👤 Usuário: teste1
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService -    📧 Email: melodavid84@icloud.com
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - 🔑 Token gerado: 76129ada-d16c-4476-ae4a-f955beb1f899
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - 🔢 Código gerado: 794807
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - ✅ Token salvo no banco - ID: 1
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:45:39 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService -    Código: 794807
2025-10-28 13:45:43 [http-nio-8080-exec-3] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:45:43 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - 📧 Email de verificação enviado com sucesso!
2025-10-28 13:45:43 [http-nio-8080-exec-3] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:45:43 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-10-28 13:45:43 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (14, teste1, melodavid84@icloud.com, null, 2025-10-28 13:45:38.984548, USER, f).
2025-10-28 13:45:44 [http-nio-8080-exec-3] ERROR c.crypto.controller.AuthController - ❌ Erro no registro:
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (14, teste1, melodavid84@icloud.com, null, 2025-10-28 13:45:38.984548, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; SQL [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:669)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:419)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.crypto.service.VerificationService$$SpringCGLIB$$0.createVerificationToken(<generated>)
	at com.crypto.controller.AuthController.register(AuthController.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.crypto.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (14, teste1, melodavid84@icloud.com, null, 2025-10-28 13:45:38.984548, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:283)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:107)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:769)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:325)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.coordinateUpdate(UpdateCoordinatorStandard.java:242)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2802)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:166)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:631)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:498)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1415)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:496)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2325)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1988)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 141 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (14, teste1, melodavid84@icloud.com, null, 2025-10-28 13:45:38.984548, USER, f).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:280)
	... 163 common frames omitted
2025-10-28 13:45:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:45:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Erro ao criar conta}]
2025-10-28 13:45:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-10-28 13:46:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:46:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:46:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📝 CRIANDO TOKEN DE VERIFICAÇÃO
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    👤 Usuário: teste1
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    📧 Email: melodavid84@icloud.com
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔑 Token gerado: f21c2185-829f-40db-b3e0-79c77f64c5ef
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔢 Código gerado: 681911
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ✅ Token salvo no banco - ID: 2
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:46:15 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: 681911
2025-10-28 13:46:19 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:46:19 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📧 Email de verificação enviado com sucesso!
2025-10-28 13:46:19 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:46:19 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-10-28 13:46:19 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (15, teste1, melodavid84@icloud.com, null, 2025-10-28 13:46:15.961797, USER, f).
2025-10-28 13:46:19 [http-nio-8080-exec-1] ERROR c.crypto.controller.AuthController - ❌ Erro no registro:
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (15, teste1, melodavid84@icloud.com, null, 2025-10-28 13:46:15.961797, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; SQL [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:669)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:419)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.crypto.service.VerificationService$$SpringCGLIB$$0.createVerificationToken(<generated>)
	at com.crypto.controller.AuthController.register(AuthController.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.crypto.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (15, teste1, melodavid84@icloud.com, null, 2025-10-28 13:46:15.961797, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:283)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:107)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:769)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:325)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.coordinateUpdate(UpdateCoordinatorStandard.java:242)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2802)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:166)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:631)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:498)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1415)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:496)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2325)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1988)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 141 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (15, teste1, melodavid84@icloud.com, null, 2025-10-28 13:46:15.961797, USER, f).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:280)
	... 163 common frames omitted
2025-10-28 13:46:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:46:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Erro ao criar conta}]
2025-10-28 13:46:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-10-28 13:47:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:47:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:48:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:48:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:49:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:49:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:49:42 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:49:42 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:49:42 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:49:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:49:49 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 18292 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:49:49 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 261 ms. Found 8 JPA repository interfaces.
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:49:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-28 13:49:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:49:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:49:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:49:53 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:49:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3375 ms
2025-10-28 13:49:53 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:49:53 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:49:53 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:49:53 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:49:53 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:49:54 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:49:54 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:49:54 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:49:54 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:49:54 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:49:54 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:49:54 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:49:54 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.035s)
2025-10-28 13:49:54 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:49:54 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:49:54 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:49:54 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 48 of 88M
2025-10-28 13:49:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:49:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:49:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:49:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:49:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:49:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@647ce968
2025-10-28 13:49:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:49:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:49:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:49:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:49:57 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:49:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:49:58 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:49:58 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:49:58 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:49:59 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:49:59 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:49:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:49:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:49:59 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:50:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:50:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:50:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:50:03 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:50:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:50:03 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 15.176 seconds (process running for 16.205)
2025-10-28 13:50:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:50:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2faec75a
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@41da4be8
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:50:04 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 13:50:05 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:50:26 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:50:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:50:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:50:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=treste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enab (truncated)...]
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: treste1
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📝 CRIANDO TOKEN DE VERIFICAÇÃO
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    👤 Usuário: treste1
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    📧 Email: melodavid84@icloud.com
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔑 Token gerado: 42a2625f-e983-4d33-a2d5-93a2276116a5
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔢 Código gerado: 571188
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ✅ Token salvo no banco - ID: 3
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:50:26 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: 571188
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📧 Email de verificação enviado com sucesso!
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:50:31 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: 42a2625f-e983-4d33-a2d5-93a2276116a5
2025-10-28 13:50:35 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:50:35 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: treste1
2025-10-28 13:50:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:50:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, message=Usuário criado! Verifique seu email., email=melodavid84@icloud.c (truncated)...]
2025-10-28 13:50:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 13:51:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:51:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:52:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:52:04 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:52:10 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:52:10 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:52:10 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:52:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:52:18 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 8092 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:52:18 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 197 ms. Found 8 JPA repository interfaces.
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:52:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-28 13:52:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:52:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:52:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:52:22 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:52:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3936 ms
2025-10-28 13:52:22 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:52:22 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:52:22 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:52:22 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:52:22 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:52:22 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:52:22 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:52:22 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:52:22 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:52:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.036s)
2025-10-28 13:52:22 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:52:23 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:52:23 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:52:23 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 50 of 88M
2025-10-28 13:52:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:52:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:52:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:52:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:52:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:52:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@74a3160d
2025-10-28 13:52:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:52:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:52:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:52:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:52:26 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:52:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:52:28 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:52:28 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:52:28 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:52:28 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:52:28 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:52:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:52:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:52:29 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:52:30 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:52:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:52:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:52:32 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:52:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:52:33 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 16.345 seconds (process running for 17.27)
2025-10-28 13:52:33 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:52:33 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3402004f
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5ea15dd4
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:52:34 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-10-28 13:52:34 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:52:45 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:52:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:52:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:52:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📝 CRIANDO TOKEN DE VERIFICAÇÃO
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    👤 Usuário: teste1
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    📧 Email: melodavid84@icloud.com
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔑 Token gerado: 4252b6e3-2e54-4709-83da-1489040c18ed
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔢 Código gerado: 918399
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ✅ Token salvo no banco - ID: 4
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:52:46 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: 918399
2025-10-28 13:52:50 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:52:50 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📧 Email de verificação enviado com sucesso!
2025-10-28 13:52:50 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:52:50 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-10-28 13:52:50 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (17, teste1, melodavid84@icloud.com, null, 2025-10-28 13:52:46.494788, USER, f).
2025-10-28 13:52:50 [http-nio-8080-exec-1] ERROR c.crypto.controller.AuthController - ❌ Erro no registro:
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (17, teste1, melodavid84@icloud.com, null, 2025-10-28 13:52:46.494788, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; SQL [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:669)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:419)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.crypto.service.VerificationService$$SpringCGLIB$$0.createVerificationToken(<generated>)
	at com.crypto.controller.AuthController.register(AuthController.java:55)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.crypto.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (17, teste1, melodavid84@icloud.com, null, 2025-10-28 13:52:46.494788, USER, f).] [update users set email=?,enabled=?,password=?,role=?,username=? where id=?]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:283)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:107)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:769)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:325)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.coordinateUpdate(UpdateCoordinatorStandard.java:242)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2802)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:166)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:631)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:498)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1415)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:496)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2325)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1988)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 141 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: o valor nulo na coluna "password" da relação "users" viola a restrição de não-nulo
  Detalhe: Registro que falhou contém (17, teste1, melodavid84@icloud.com, null, 2025-10-28 13:52:46.494788, USER, f).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:280)
	... 163 common frames omitted
2025-10-28 13:52:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:52:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Erro ao criar conta}]
2025-10-28 13:52:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-10-28 13:53:33 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:53:33 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:54:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:54:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:54:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:54:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 13:55:13 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 8444 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 13:55:13 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 13:55:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:55:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 8 JPA repository interfaces.
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 13:55:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-28 13:55:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 13:55:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 13:55:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 13:55:16 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 13:55:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3137 ms
2025-10-28 13:55:16 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 13:55:17 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 13:55:17 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 13:55:17 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 13:55:17 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 13:55:17 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 13:55:17 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 13:55:17 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 13:55:17 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 13:55:17 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.036s)
2025-10-28 13:55:17 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 13:55:17 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 13:55:17 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 13:55:17 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 53 of 88M
2025-10-28 13:55:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 13:55:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 13:55:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 13:55:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 13:55:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 13:55:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@37196d53
2025-10-28 13:55:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 13:55:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 13:55:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 13:55:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:55:20 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 13:55:21 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 13:55:23 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 13:55:23 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 13:55:23 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 13:55:24 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 13:55:24 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 13:55:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 13:55:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 52 mappings in 'requestMappingHandlerMapping'
2025-10-28 13:55:24 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 13:55:25 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 13:55:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 13:55:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 13:55:26 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 13:55:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 13:55:26 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 14.491 seconds (process running for 15.386)
2025-10-28 13:55:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:55:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3dc67c9e
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3026d4cd
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 13:55:27 [RMI TCP Connection(8)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 13:55:28 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 13:55:53 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 13:55:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 13:55:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 13:55:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 13:55:53 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📝 CRIANDO TOKEN DE VERIFICAÇÃO
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    👤 Usuário: teste1
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    📧 Email: melodavid84@icloud.com
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔑 Token gerado: c1ca37a8-fd56-47c1-97f0-0a8b691ef349
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 🔢 Código gerado: 318877
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ✅ Token salvo no banco - ID: 5
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:55:54 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: 318877
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📧 Email de verificação enviado com sucesso!
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService - 📤 Enviando email de verificação...
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Para: melodavid84@icloud.com
2025-10-28 13:55:59 [http-nio-8080-exec-1] INFO  c.crypto.service.VerificationService -    Código: c1ca37a8-fd56-47c1-97f0-0a8b691ef349
2025-10-28 13:56:03 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 13:56:03 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 13:56:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 13:56:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 13:56:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 13:56:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 13:56:27 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 13:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 13:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 13:56:54 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 13:56:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 14:50:34 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 6880 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 14:50:34 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 14:50:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 14:50:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 281 ms. Found 8 JPA repository interfaces.
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:50:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-28 14:50:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 14:50:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 14:50:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 14:50:40 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 14:50:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5912 ms
2025-10-28 14:50:40 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 14:50:41 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 14:50:41 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 14:50:41 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 14:50:41 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 14:50:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 14:50:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 14:50:41 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 14:50:41 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 14:50:41 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.085s)
2025-10-28 14:50:41 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 14:50:41 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 14:50:41 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 14:50:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 34 of 94M
2025-10-28 14:50:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 14:50:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 14:50:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 14:50:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 14:50:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 14:50:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@7abd75fc
2025-10-28 14:50:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 14:50:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 14:50:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 14:50:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 14:50:46 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 14:50:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 14:50:47 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 14:50:47 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 14:50:47 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 14:50:48 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 14:50:48 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 14:50:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 14:50:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 14:50:49 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 14:50:50 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 14:50:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 14:50:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 14:50:51 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 14:50:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 14:50:52 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 19.095 seconds (process running for 21.904)
2025-10-28 14:50:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:50:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:51:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:51:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:52:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:52:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:53:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 14:53:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4765e57
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@79eade07
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 14:53:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-28 14:53:16 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 14:53:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 14:53:16 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 14:53:22 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 14:53:22 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 14:53:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 14:53:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 14:53:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 14:53:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:53:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:54:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:54:52 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:55:20 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 14:55:20 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 14:55:20 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 14:55:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 14:58:36 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 17456 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 14:58:36 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 212 ms. Found 8 JPA repository interfaces.
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 14:58:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-10-28 14:58:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 14:58:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 14:58:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 14:58:40 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 14:58:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3404 ms
2025-10-28 14:58:40 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 14:58:41 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 14:58:41 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 14:58:41 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 14:58:41 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 14:58:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 14:58:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 14:58:41 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 14:58:41 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 14:58:41 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.108s)
2025-10-28 14:58:41 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 14:58:41 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 14:58:41 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 14:58:41 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 55 of 90M
2025-10-28 14:58:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 14:58:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 14:58:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 14:58:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 14:58:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 14:58:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@40105b39
2025-10-28 14:58:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 14:58:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 14:58:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 14:58:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 14:58:45 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 14:58:45 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 14:58:46 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 14:58:46 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 14:58:46 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 14:58:46 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 14:58:46 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 14:58:46 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 14:58:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 14:58:47 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 14:58:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 14:58:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 14:58:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 14:58:49 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 14:58:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 14:58:49 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 13.902 seconds (process running for 14.784)
2025-10-28 14:58:49 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:58:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@76b9605
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@41cf885f
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 14:58:50 [RMI TCP Connection(5)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-10-28 14:58:51 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 14:59:17 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 14:59:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 14:59:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 14:59:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 14:59:17 [http-nio-8080-exec-3] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 14:59:22 [http-nio-8080-exec-3] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 14:59:22 [http-nio-8080-exec-3] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 14:59:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 14:59:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 14:59:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 14:59:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 14:59:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:00:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:00:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:01:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:01:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:01:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 15:01:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 15:01:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 15:01:53 [http-nio-8080-exec-2] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 15:01:57 [http-nio-8080-exec-2] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 15:01:57 [http-nio-8080-exec-2] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 15:01:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:01:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 15:01:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:02:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:02:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:03:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:03:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:04:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:04:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:05:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:05:50 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:06:21 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 15:06:21 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 15:06:21 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 15:06:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 15:06:29 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 14752 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 15:06:29 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 8 JPA repository interfaces.
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:06:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-28 15:06:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 15:06:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 15:06:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 15:06:33 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 15:06:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3264 ms
2025-10-28 15:06:33 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 15:06:33 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 15:06:33 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 15:06:33 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 15:06:33 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 15:06:34 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 15:06:34 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 15:06:34 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 15:06:34 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 15:06:34 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 15:06:34 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 15:06:34 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 15:06:34 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.036s)
2025-10-28 15:06:34 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 15:06:34 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 15:06:34 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 15:06:34 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 46 of 88M
2025-10-28 15:06:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 15:06:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 15:06:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 15:06:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 15:06:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 15:06:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@647ce968
2025-10-28 15:06:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 15:06:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 15:06:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 15:06:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 15:06:37 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 15:06:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 15:06:38 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 15:06:38 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 15:06:38 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 15:06:39 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 15:06:39 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 15:06:39 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 15:06:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 15:06:40 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 15:06:40 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 15:06:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 15:06:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 15:06:41 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 15:06:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 15:06:42 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 13.384 seconds (process running for 14.245)
2025-10-28 15:06:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:06:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@42343f6d
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3feafba2
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 15:06:42 [RMI TCP Connection(6)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-10-28 15:06:43 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 15:07:09 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 15:07:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 15:07:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 15:07:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 15:07:10 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 15:07:15 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 15:07:15 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 15:07:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:07:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 15:07:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/verify", parameters={}
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#verifyUser(VerificationRequest)
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [VerificationRequest(email=null, code=232452)]
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Conta verificada com sucesso!}]
2025-10-28 15:07:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:07:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:07:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:07:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 15:07:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 15:07:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=cyb3rdefense, email=null, role=USER, enabled=false)]
2025-10-28 15:07:44 [http-nio-8080-exec-2] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 15:07:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:07:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, error=Credenciais inválidas}]
2025-10-28 15:07:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=null, role=USER, enabled=false)]
2025-10-28 15:08:09 [http-nio-8080-exec-4] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0ZTEiLCJpc3MiOiJjcnlwdG8tbW9uaXRvciIsImlhdCI6MTc2MTY3NDg4 (truncated)...]
2025-10-28 15:08:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:08:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 15:08:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 15:08:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 15:08:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 15:08:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:08:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{email=N/A, startedAt=0, username=teste1, timestamp=1761674890289, totalActiveMonitors=0, active=fal (truncated)...]
2025-10-28 15:08:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:08:10 [http-nio-8080-exec-5] DEBUG o.s.w.r.f.client.ExchangeFunctions - [1858edb4] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 15:08:11 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [1858edb4] [4f5bcb27-1] Response 200 OK
2025-10-28 15:08:11 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [1858edb4] [4f5bcb27-1] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115203, priceChange1 (truncated)...]
2025-10-28 15:08:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:08:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115203, priceChange1 (truncated)...]
2025-10-28 15:08:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:08:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 15:08:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 15:08:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:08:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115203, priceChange1 (truncated)...]
2025-10-28 15:08:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 15:08:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 15:08:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:08:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{email=N/A, startedAt=0, username=teste1, timestamp=1761674894870, totalActiveMonitors=0, active=fal (truncated)...]
2025-10-28 15:08:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:08:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:08:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:08:42 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:09:06 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 15:09:06 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 15:09:06 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 15:09:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 15:11:04 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 10772 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 15:11:04 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 15:11:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 15:11:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 363 ms. Found 8 JPA repository interfaces.
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 15:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-10-28 15:11:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 15:11:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 15:11:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 15:11:09 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 15:11:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4062 ms
2025-10-28 15:11:09 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 15:11:09 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 15:11:09 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 15:11:09 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 15:11:10 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 15:11:10 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 15:11:10 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 15:11:10 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 15:11:10 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 15:11:10 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.049s)
2025-10-28 15:11:10 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 15:11:10 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 15:11:10 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 15:11:10 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 55 of 90M
2025-10-28 15:11:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 15:11:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 15:11:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 15:11:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 15:11:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 15:11:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@2a2b3aff
2025-10-28 15:11:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 15:11:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 15:11:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 15:11:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 15:11:13 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 15:11:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 15:11:14 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 15:11:14 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 15:11:14 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 15:11:15 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 15:11:15 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 15:11:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 15:11:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 15:11:15 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 15:11:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 15:11:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 15:11:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 15:11:17 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 15:11:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 15:11:17 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 13.905 seconds (process running for 14.839)
2025-10-28 15:11:17 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:11:18 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@38da693b
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@786f8cd2
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 15:11:18 [RMI TCP Connection(4)-192.168.1.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-28 15:11:19 [boundedElastic-1] WARN  o.s.b.a.d.r.RedisReactiveHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1805)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1736)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1538)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1518)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1478)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1515)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1224)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:1099)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:130)
	at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)
	at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
	at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:215)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1734)
	... 16 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 15:11:52 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 15:11:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/register", parameters={}
2025-10-28 15:11:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#register(User)
2025-10-28 15:11:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=melodavid84@icloud.com, role=USER, enabl (truncated)...]
2025-10-28 15:11:52 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 📝 Tentativa de registro: teste1
2025-10-28 15:11:57 [http-nio-8080-exec-1] INFO  com.crypto.service.EmailService - 📧 Email enviado com sucesso para: melodavid84@icloud.com
2025-10-28 15:11:57 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - ✅ Usuário registrado: teste1
2025-10-28 15:11:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:11:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{requiresVerification=true, success=true, message=Usuário criado! Verifique seu email., email=meloda (truncated)...]
2025-10-28 15:11:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:12:18 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:12:18 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/verify", parameters={}
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#verifyUser(VerificationRequest)
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [VerificationRequest(email=null, code=352157)]
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Conta verificada com sucesso!}]
2025-10-28 15:12:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:13:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 15:13:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 15:13:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=null, role=USER, enabled=false)]
2025-10-28 15:13:12 [http-nio-8080-exec-3] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 15:13:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:13:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0ZTEiLCJpc3MiOiJjcnlwdG8tbW9uaXRvciIsImlhdCI6MTc2MTY3NTE5 (truncated)...]
2025-10-28 15:13:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:13:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 15:13:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 15:13:13 [http-nio-8080-exec-4] DEBUG o.s.w.r.f.client.ExchangeFunctions - [1dd71b36] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 15:13:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 15:13:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 15:13:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:13:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{active=false, email=N/A, startedAt=0, username=teste1, timestamp=1761675194098, totalActiveMonitors (truncated)...]
2025-10-28 15:13:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:13:15 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [1dd71b36] [6ef4614d-1] Response 200 OK
2025-10-28 15:13:15 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [1dd71b36] [6ef4614d-1] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115265, priceChange1 (truncated)...]
2025-10-28 15:13:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 15:13:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=115265, priceChange1 (truncated)...]
2025-10-28 15:13:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 15:13:18 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 15:13:18 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 15:13:45 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 15:13:45 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 15:13:45 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 15:13:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 21:30:53 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 18656 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 21:30:53 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 21:30:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 21:30:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 365 ms. Found 8 JPA repository interfaces.
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 21:30:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-28 21:31:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 21:31:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 21:31:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 21:31:01 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 21:31:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7774 ms
2025-10-28 21:31:01 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 21:31:02 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 21:31:02 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 21:31:02 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 21:31:02 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 21:31:02 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 21:31:02 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 21:31:02 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 21:31:02 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 21:31:02 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 21:31:03 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.152s)
2025-10-28 21:31:03 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 21:31:03 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 21:31:03 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 21:31:03 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 52 of 108M
2025-10-28 21:31:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 21:31:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 21:31:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 21:31:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 21:31:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 21:31:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@63537871
2025-10-28 21:31:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 21:31:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 21:31:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 21:31:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 21:31:07 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 21:31:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 21:31:10 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 21:31:10 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 21:31:11 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 21:31:11 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 21:31:11 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 21:31:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 21:31:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 21:31:12 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 21:31:13 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 21:31:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 21:31:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 21:31:19 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 21:31:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 21:31:22 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 30.503 seconds (process running for 50.459)
2025-10-28 21:31:22 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:31:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:32:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:32:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:33:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:33:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:33:31 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 21:33:31 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@54875db0
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2d8ef86b
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 21:33:31 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-10-28 21:33:31 [http-nio-8080-exec-2] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/crypto/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 21:33:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 21:33:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:33:31 [http-nio-8080-exec-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [4970d00d] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste, password=cyb3rdefense, email=null, role=USER, enabled=false)]
2025-10-28 21:33:31 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=0, email=N/A, active=false, totalActiveMonitors=0, timestamp=17616980117 (truncated)...]
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, error=Conta não verificada, message=Verifique seu email antes de fazer login, email= (truncated)...]
2025-10-28 21:33:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-10-28 21:33:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:33:34 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [4970d00d] [d1b23d03-1] Response 200 OK
2025-10-28 21:33:34 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [4970d00d] [d1b23d03-1] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112721, priceChange1 (truncated)...]
2025-10-28 21:33:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112721, priceChange1 (truncated)...]
2025-10-28 21:33:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:33:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 21:33:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 21:33:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=null, role=USER, enabled=false)]
2025-10-28 21:33:43 [http-nio-8080-exec-4] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 21:33:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0ZTEiLCJpc3MiOiJjcnlwdG8tbW9uaXRvciIsImlhdCI6MTc2MTY5ODAy (truncated)...]
2025-10-28 21:33:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:33:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:33:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:33:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112721, priceChange1 (truncated)...]
2025-10-28 21:33:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:33:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:33:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:33:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:33:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=0, email=N/A, active=false, totalActiveMonitors=0, timestamp=17616980249 (truncated)...]
2025-10-28 21:33:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:34:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:34:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:34:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:34:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:34:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:34:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112721, priceChange1 (truncated)...]
2025-10-28 21:34:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:35:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:35:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:36:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:36:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:37:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:37:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:37:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:37:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112721, priceChange1 (truncated)...]
2025-10-28 21:37:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:37:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:37:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:38:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/monitoring/start", parameters={}
2025-10-28 21:38:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#startMonitoring(Map, Authentication)
2025-10-28 21:38:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=melodavid84@icloud.com, cryptocurrencies=[bitcoin, ethereum, solana], checkIntervalMinutes=5, (truncated)...]
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - 📥 REQUISIÇÃO PARA INICIAR MONITORAMENTO
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    👤 Usuário: teste1
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    📧 Email: melodavid84@icloud.com
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    📊 Criptomoedas recebidas: [bitcoin, ethereum, solana]
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    📊 Quantidade: 3
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ⏱️  Intervalo: 5 minutos
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    📉 Threshold compra: -0.5%
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    📈 Threshold venda: +1.0%
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - 🗑️  Deletando alertas antigos do email: melodavid84@icloud.com
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 🗑️  Desativando todos os alertas para: melodavid84@icloud.com
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Total de 2 alertas desativados para melodavid84@icloud.com
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - 🔧 Iniciando criação de alertas para 3 cryptos
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    🔹 Criando alertas para:
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - CoinId recebido: bitcoin
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo mapeado: BTC
2025-10-28 21:38:13 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 141
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de COMPRA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: BTC
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: -0.5%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 142
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de VENDA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: BTC
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: +1.0%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    🔹 Criando alertas para:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - CoinId recebido: ethereum
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo mapeado: ETH
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 143
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de COMPRA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: ETH
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: -0.5%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 144
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de VENDA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: ETH
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: +1.0%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    🔹 Criando alertas para:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - CoinId recebido: solana
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo mapeado: SOL
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 145
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de COMPRA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: SOL
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: -0.5%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - 📝 Criando nova regra de alerta
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  com.crypto.service.AlertService - ✅ Regra de alerta criada com sucesso: ID 146
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -    ✅ Regra de VENDA criada:
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Símbolo: SOL
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController -       - Threshold: +1.0%
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - 🎯 Total de alertas criados: 6
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - 📋 TOTAL DE REGRAS CRIADAS: 6
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.service.MonitoringControlService - 🚀 Iniciando monitoramento para: teste1 (email: melodavid84@icloud.com)
2025-10-28 21:38:14 [crypto-monitor-1] INFO  c.c.service.CryptoMonitoringService - 🔄 Iniciando ciclo de monitoramento para email: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.service.MonitoringControlService - ✅ Monitoramento INICIADO para: teste1 (email: melodavid84@icloud.com)
2025-10-28 21:38:14 [crypto-monitor-1] INFO  c.c.service.CryptoMonitoringService - 📊 Obtidos preços de 9 criptomoedas
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - ✅ MONITORAMENTO INICIADO COM SUCESSO!
2025-10-28 21:38:14 [http-nio-8080-exec-3] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:38:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{alertRulesCreated=6, email=melodavid84@icloud.com, message=Monitoramento iniciado com sucesso, cryp (truncated)...]
2025-10-28 21:38:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:38:14 [crypto-monitor-1] DEBUG o.s.s.a.AnnotationAsyncExecutionInterceptor - Could not find unique TaskExecutor bean. Continuing search for an Executor bean named 'taskExecutor'
org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.core.task.TaskExecutor' available: expected single matching bean but found 2: taskExecutor,taskScheduler
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1310)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:484)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:332)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.getDefaultExecutor(AsyncExecutionAspectSupport.java:241)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.getDefaultExecutor(AsyncExecutionInterceptor.java:160)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$configure$2(AsyncExecutionAspectSupport.java:122)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:109)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.determineAsyncExecutor(AsyncExecutionAspectSupport.java:180)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:107)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.crypto.event.AlertEventListener$$SpringCGLIB$$0.handleCryptoUpdate(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:365)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:237)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:168)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:171)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:149)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:445)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at com.crypto.service.CryptoMonitoringService.publishCryptoUpdateEvent(CryptoMonitoringService.java:222)
	at com.crypto.service.CryptoMonitoringService.updateAndProcessAlertsForUser(CryptoMonitoringService.java:77)
	at com.crypto.service.MonitoringControlService.runMonitoringCycle(MonitoringControlService.java:236)
	at com.crypto.service.MonitoringControlService.lambda$startMonitoring$1(MonitoringControlService.java:77)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-28 21:38:14 [crypto-monitor-1] INFO  c.c.service.CryptoMonitoringService - ✅ Ciclo de monitoramento concluído para: melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔍 Processando alertas para email: melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: btc - PERCENT_CHANGE_24H -> ⚡ Bitcoin (BTC) variou -1,17% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Bitcoin (BTC)
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:14 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: eth - PERCENT_CHANGE_24H -> ⚡ Ethereum (ETH) variou -3,11% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService -    💰 Preço: $112.721,00
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService -    📊 Variação: -1,17%
2025-10-28 21:38:14 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: sol - PERCENT_CHANGE_24H -> ⚡ Solana (SOL) variou -2,43% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:14 [crypto-async-1] INFO  com.crypto.service.AlertService - ✅ 3 alertas disparados para melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📧 Preparando email...
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Ethereum (ETH)
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService -    💰 Preço: $3.988,61
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📊 Variação: -3,11%
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📧 Preparando email...
2025-10-28 21:38:14 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📤 Enviando email para: melodavid84@icloud.com
2025-10-28 21:38:14 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📤 Enviando email para: melodavid84@icloud.com
2025-10-28 21:38:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:38:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:38:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:38:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=1761698294113, email=melodavid84@icloud.com, active=true, totalActiveMon (truncated)...]
2025-10-28 21:38:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:38:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:38:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:38:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:38:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=1761698294113, email=melodavid84@icloud.com, active=true, totalActiveMon (truncated)...]
2025-10-28 21:38:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:38:16 [FirstCheck-teste1] INFO  c.c.service.CryptoMonitoringService - 🔄 Iniciando ciclo de monitoramento para email: melodavid84@icloud.com
2025-10-28 21:38:16 [FirstCheck-teste1] DEBUG o.s.w.r.f.client.ExchangeFunctions - [f3e2232] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 21:38:16 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [f3e2232] [d1b23d03-2] Response 200 OK
2025-10-28 21:38:16 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [f3e2232] [d1b23d03-2] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112657, priceChange1 (truncated)...]
2025-10-28 21:38:16 [FirstCheck-teste1] INFO  c.c.service.CryptoMonitoringService - 📊 Obtidos preços de 9 criptomoedas
2025-10-28 21:38:16 [FirstCheck-teste1] INFO  c.c.service.CryptoMonitoringService - ✅ Ciclo de monitoramento concluído para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - ✅ Email ENVIADO com sucesso para melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6e784959] HTTP POST https://api.telegram.org/bot8269152459:AAGQrbIUj8lu095pGziqM0SjDVjWe36p5ok/sendMessage
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - ✅ NOTIFICAÇÃO ENVIADA COM SUCESSO!
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Solana (SOL)
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService -    💰 Preço: $194,78
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService -    📊 Variação: -2,43%
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📧 Preparando email...
2025-10-28 21:38:18 [crypto-async-2] INFO  c.crypto.service.NotificationService - 📤 Enviando email para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ✅ Email ENVIADO com sucesso para melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] DEBUG o.s.w.r.f.client.ExchangeFunctions - [60500140] HTTP POST https://api.telegram.org/bot8269152459:AAGQrbIUj8lu095pGziqM0SjDVjWe36p5ok/sendMessage
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ✅ NOTIFICAÇÃO ENVIADA COM SUCESSO!
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔍 Processando alertas para email: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: btc - PERCENT_CHANGE_24H -> ⚡ Bitcoin (BTC) variou -1,23% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:18 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: eth - PERCENT_CHANGE_24H -> ⚡ Ethereum (ETH) variou -3,19% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:18 [crypto-async-1] INFO  com.crypto.service.AlertService - 🔔 Alerta disparado: sol - PERCENT_CHANGE_24H -> ⚡ Solana (SOL) variou -2,67% nas últimas 24h (limite: -0,50%) (Email: melodavid84@icloud.com)
2025-10-28 21:38:18 [crypto-async-1] INFO  com.crypto.service.AlertService - ✅ 3 alertas disparados para melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Bitcoin (BTC)
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    💰 Preço: $112.657,00
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📊 Variação: -1,23%
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Cooldown ativo: BTC_PERCENT_CHANGE_24H (faltam 29 minutos)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Notificação em COOLDOWN para BTC (PERCENT_CHANGE_24H)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService -    ⏱️  Cooldown configurado: 30 minutos
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Ethereum (ETH)
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    💰 Preço: $3.985,44
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📊 Variação: -3,19%
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Cooldown ativo: ETH_PERCENT_CHANGE_24H (faltam 29 minutos)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Notificação em COOLDOWN para ETH (PERCENT_CHANGE_24H)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService -    ⏱️  Cooldown configurado: 30 minutos
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - 📬 ENVIANDO NOTIFICAÇÃO
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📧 Para: melodavid84@icloud.com
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🪙 Crypto: Solana (SOL)
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    🔔 Tipo: PERCENT_CHANGE_24H
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    💰 Preço: $194,50
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService -    📊 Variação: -2,67%
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Cooldown ativo: SOL_PERCENT_CHANGE_24H (faltam 29 minutos)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService - ⏰ Notificação em COOLDOWN para SOL (PERCENT_CHANGE_24H)
2025-10-28 21:38:18 [crypto-async-1] WARN  c.crypto.service.NotificationService -    ⏱️  Cooldown configurado: 30 minutos
2025-10-28 21:38:18 [crypto-async-1] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:19 [reactor-http-nio-3] DEBUG org.springframework.web.HttpLogging - [6e784959] Encoding [{chat_id=8489653452, parse_mode=Markdown, text=⚡ *VARIAÇÃO PERCENTUAL 24H*<EOL><EOL>💰 *Bitcoin (BTC)*<EOL>💵 Pr (truncated)...]
2025-10-28 21:38:19 [reactor-http-nio-4] DEBUG org.springframework.web.HttpLogging - [60500140] Encoding [{chat_id=8489653452, parse_mode=Markdown, text=⚡ *VARIAÇÃO PERCENTUAL 24H*<EOL><EOL>💰 *Ethereum (ETH)*<EOL>💵 P (truncated)...]
2025-10-28 21:38:19 [reactor-http-nio-3] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6e784959] [6efeed1c-1] Response 200 OK
2025-10-28 21:38:19 [reactor-http-nio-3] DEBUG org.springframework.web.HttpLogging - [6e784959] [6efeed1c-1] Decoded "{"ok":true,"result":{"message_id":3,"from":{"id":8269152459,"is_bot":true,"first_name":"Crypto Monit (truncated)..."
2025-10-28 21:38:19 [reactor-http-nio-3] INFO  c.crypto.service.NotificationService - ✅ Mensagem Telegram enviada com sucesso
2025-10-28 21:38:19 [reactor-http-nio-4] DEBUG o.s.w.r.f.client.ExchangeFunctions - [60500140] [56f46e54-1] Response 200 OK
2025-10-28 21:38:19 [reactor-http-nio-4] DEBUG org.springframework.web.HttpLogging - [60500140] [56f46e54-1] Decoded "{"ok":true,"result":{"message_id":4,"from":{"id":8269152459,"is_bot":true,"first_name":"Crypto Monit (truncated)..."
2025-10-28 21:38:19 [reactor-http-nio-4] INFO  c.crypto.service.NotificationService - ✅ Mensagem Telegram enviada com sucesso
2025-10-28 21:38:22 [crypto-async-2] INFO  c.crypto.service.NotificationService - ✅ Email ENVIADO com sucesso para melodavid84@icloud.com
2025-10-28 21:38:22 [crypto-async-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6492b893] HTTP POST https://api.telegram.org/bot8269152459:AAGQrbIUj8lu095pGziqM0SjDVjWe36p5ok/sendMessage
2025-10-28 21:38:22 [crypto-async-2] INFO  c.crypto.service.NotificationService - ✅ NOTIFICAÇÃO ENVIADA COM SUCESSO!
2025-10-28 21:38:22 [crypto-async-2] INFO  c.crypto.service.NotificationService - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:38:22 [reactor-http-nio-3] DEBUG org.springframework.web.HttpLogging - [6492b893] Encoding [{chat_id=8489653452, parse_mode=Markdown, text=⚡ *VARIAÇÃO PERCENTUAL 24H*<EOL><EOL>💰 *Solana (SOL)*<EOL>💵 Pre (truncated)...]
2025-10-28 21:38:22 [reactor-http-nio-3] DEBUG o.s.w.r.f.client.ExchangeFunctions - [6492b893] [6efeed1c-2] Response 200 OK
2025-10-28 21:38:22 [reactor-http-nio-3] DEBUG org.springframework.web.HttpLogging - [6492b893] [6efeed1c-2] Decoded "{"ok":true,"result":{"message_id":6,"from":{"id":8269152459,"is_bot":true,"first_name":"Crypto Monit (truncated)..."
2025-10-28 21:38:22 [reactor-http-nio-3] INFO  c.crypto.service.NotificationService - ✅ Mensagem Telegram enviada com sucesso
2025-10-28 21:38:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:38:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.w.r.f.client.ExchangeFunctions - [5970e08b] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 21:38:32 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [5970e08b] [d1b23d03-3] Response 200 OK
2025-10-28 21:38:32 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [5970e08b] [d1b23d03-3] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112657, priceChange1 (truncated)...]
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112657, priceChange1 (truncated)...]
2025-10-28 21:38:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:39:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:39:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:40:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:40:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:40:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:40:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112657, priceChange1 (truncated)...]
2025-10-28 21:40:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:40:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:40:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:40:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/monitoring/stop", parameters={}
2025-10-28 21:40:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#stopMonitoring(Authentication)
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController - 🛑 REQUISIÇÃO PARA PARAR MONITORAMENTO
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController -    👤 Usuário: teste1
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.service.MonitoringControlService - 🛑 Monitoramento PARADO para: teste1
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController - ✅ MONITORAMENTO PARADO COM SUCESSO!
2025-10-28 21:40:58 [http-nio-8080-exec-6] INFO  c.c.controller.MonitoringController - ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-28 21:40:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:40:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{active=false, message=Monitoramento parado com sucesso, username=teste1}]
2025-10-28 21:40:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=0, email=N/A, active=false, totalActiveMonitors=0, timestamp=17616984592 (truncated)...]
2025-10-28 21:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 21:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 21:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=teste1, startedAt=0, email=N/A, active=false, totalActiveMonitors=0, timestamp=17616984595 (truncated)...]
2025-10-28 21:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:41:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 21:41:23 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 21:41:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 21:41:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 21:41:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 21:41:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112657, priceChange1 (truncated)...]
2025-10-28 21:41:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 21:41:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 21:41:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 21:41:32 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 21:41:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
2025-10-28 22:09:12 [main] INFO  com.crypto.CryptoMonitorApplication - Starting CryptoMonitorApplication using Java 17.0.16 with PID 15176 (C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes started by DAVID in C:\Users\DAVID\Desktop\cryptomonitor\back)
2025-10-28 22:09:12 [main] INFO  com.crypto.CryptoMonitorApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 210 ms. Found 8 JPA repository interfaces.
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.AlertRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.BotTradeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.CryptoCurrencyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.PortfolioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TradingBotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.TransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.crypto.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-10-28 22:09:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-28 22:09:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-28 22:09:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-28 22:09:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-28 22:09:16 [main] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring embedded WebApplicationContext
2025-10-28 22:09:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4222 ms
2025-10-28 22:09:16 [main] INFO  com.crypto.security.JwtUtil - ✅ JWT configurado: Expiração=86400000ms, Issuer=crypto-monitor
2025-10-28 22:09:17 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-10-28 22:09:17 [main] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-10-28 22:09:17 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/callback' ...
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Unable to resolve location classpath:db/callback.
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classpath resources at 'classpath:db/migration' ...
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: crypto-monitor
  delegate: true
----------> Parent Classloader:
jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93
 ...
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning URL: file:/C:/Users/DAVID/Desktop/cryptomonitor/back/target/classes/db/migration
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning starting at classpath root in filesystem: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.c.FileSystemClassPathLocationScanner - Scanning for resources in path: C:\Users\DAVID\Desktop\cryptomonitor\back\target\classes\db\migration (db/migration)
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V1__create_tables.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V2__create_portfolio_tables.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V4__add_composite_indexes.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Found resource: db/migration/V5__add_verification_system.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.classpath.ClassPathScanner - Scanning for classes at classpath:db/migration
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V5__add_verification_system.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V1__create_tables.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V2__create_portfolio_tables.sql
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.r.ResourceNameValidator - Validating V4__add_composite_indexes.sql
2025-10-28 22:09:17 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5432/crypto_monitor (PostgreSQL 16.8)
2025-10-28 22:09:17 [main] DEBUG org.flywaydb.core.FlywayExecutor - Driver: PostgreSQL JDBC Driver 42.6.0
2025-10-28 22:09:17 [main] DEBUG org.flywaydb.core.FlywayExecutor - DDL Transactions Supported: true
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Schemas: 
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.s.SchemaHistoryFactory - Default schema: null
2025-10-28 22:09:17 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 16.8 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-10-28 22:09:17 [main] DEBUG o.f.c.i.c.SqlScriptCallbackFactory - Scanning for SQL callbacks ...
2025-10-28 22:09:17 [main] DEBUG o.f.core.internal.command.DbValidate - Validating migrations ...
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V5__add_verification_system.sql (filename: V5__add_verification_system.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V1__create_tables.sql (filename: V1__create_tables.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V2__create_portfolio_tables.sql (filename: V2__create_portfolio_tables.sql)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.scanner.Scanner - Filtering out resource: db/migration/V4__add_composite_indexes.sql (filename: V4__add_composite_indexes.sql)
2025-10-28 22:09:18 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.248s)
2025-10-28 22:09:18 [main] DEBUG o.f.core.internal.command.DbSchemas - Skipping creation of existing schema: "public"
2025-10-28 22:09:18 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-10-28 22:09:18 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-10-28 22:09:18 [main] DEBUG org.flywaydb.core.FlywayExecutor - Memory usage: 38 of 94M
2025-10-28 22:09:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-28 22:09:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-28 22:09:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-28 22:09:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-28 22:09:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Starting...
2025-10-28 22:09:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - CryptoMonitorPool - Added connection org.postgresql.jdbc.PgConnection@25a2c4dc
2025-10-28 22:09:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Start completed.
2025-10-28 22:09:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-28 22:09:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-28 22:09:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 22:09:22 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-10-28 22:09:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-28 22:09:24 [main] INFO  com.crypto.config.CacheConfig - 🚀 Configurando Caffeine Cache (L1 - Local)
2025-10-28 22:09:24 [main] INFO  com.crypto.config.CacheConfig - ✅ Caffeine Cache configurado: TTL=5min, MaxSize=1000
2025-10-28 22:09:24 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService
2025-10-28 22:09:25 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService
2025-10-28 22:09:25 [main] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'taskExecutor'
2025-10-28 22:09:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-28 22:09:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 54 mappings in 'requestMappingHandlerMapping'
2025-10-28 22:09:25 [main] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-10-28 22:09:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-28 22:09:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-28 22:09:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-28 22:09:28 [main] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService 'taskScheduler'
2025-10-28 22:09:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/crypto-monitor'
2025-10-28 22:09:29 [main] INFO  com.crypto.CryptoMonitorApplication - Started CryptoMonitorApplication in 18.324 seconds (process running for 19.755)
2025-10-28 22:09:29 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:09:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:10:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:10:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:11:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:11:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:12:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:12:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:13:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:13:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:13:49 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/crypto-monitor] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-28 22:13:49 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@55607e6d
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@146b1d42
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-28 22:13:49 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-28 22:13:49 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/crypto-monitor/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 22:13:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=cyb3rdefense, email=null, role=USER, enabled=false)]
2025-10-28 22:13:49 [http-nio-8080-exec-1] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 22:13:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 22:13:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, error=Credenciais inválidas}]
2025-10-28 22:13:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/crypto-monitor/api/auth/login", parameters={}
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.AuthController#login(User)
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [User(id=null, username=teste1, password=Cyb3rattack!, email=null, role=USER, enabled=false)]
2025-10-28 22:13:54 [http-nio-8080-exec-2] INFO  c.crypto.controller.AuthController - 🔐 Tentativa de login: teste1
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0ZTEiLCJpc3MiOiJjcnlwdG8tbW9uaXRvciIsImlhdCI6MTc2MTcwMDQz (truncated)...]
2025-10-28 22:13:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 22:13:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/crypto/current", parameters={}
2025-10-28 22:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.CryptoController#getCurrentPrices()
2025-10-28 22:13:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/crypto-monitor/api/monitoring/status", parameters={}
2025-10-28 22:13:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.crypto.controller.MonitoringController#getStatus(Authentication)
2025-10-28 22:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.r.f.client.ExchangeFunctions - [255af536] HTTP GET https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,cardano,polkadot,chainlink,solana,avalanche-2,polygon,litecoin,bitcoin-cash&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h,24h,7d
2025-10-28 22:13:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 22:13:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalActiveMonitors=0, timestamp=1761700435410, username=teste1, startedAt=0, email=N/A, active=fal (truncated)...]
2025-10-28 22:13:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 22:13:57 [reactor-http-nio-2] DEBUG o.s.w.r.f.client.ExchangeFunctions - [255af536] [efbd513a-1] Response 200 OK
2025-10-28 22:13:57 [reactor-http-nio-2] DEBUG org.springframework.web.HttpLogging - [255af536] [efbd513a-1] Decoded [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112394, priceChange1 (truncated)...]
2025-10-28 22:13:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-28 22:13:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CryptoCurrency(id=null, coinId=bitcoin, symbol=btc, name=Bitcoin, currentPrice=112394, priceChange1 (truncated)...]
2025-10-28 22:13:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-28 22:14:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:14:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:15:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - ⏰ Scheduler executando... Procurando bots ativos
2025-10-28 22:15:30 [scheduling-1] INFO  c.crypto.service.TradingBotService - 📊 Encontrados 0 bots rodando
2025-10-28 22:16:29 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2025-10-28 22:16:29 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'taskExecutor'
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🔌 Encerrando MonitoringControlService...
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - 🛑 Parando todos os monitoramentos ativos (0 usuários)...
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ Todos os monitoramentos parados
2025-10-28 22:16:29 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  c.c.service.MonitoringControlService - ✅ MonitoringControlService encerrado
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown initiated...
2025-10-28 22:16:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - CryptoMonitorPool - Shutdown completed.
